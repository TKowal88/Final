{% extends "layout.html" %}

{% block main %}
Index page <br>
Enter storage size:
<form action="/addStorage" method="POST" name="storageSize" id="storageSize">
    <input type="number" id="storageWidth" name="storageWidth" placeholder="Width">
    <input type="number" id="storageLength" name="storageLength" placeholder="Length">
    <input type="number" id="storageHeight" name="storageHeight" placeholder="Height">
    <input type="submit" id="storageSubmit">
</form>
<div> Storage dimensions: Width = {{ storage[0].width }} cm, Length = {{ storage[0].length }} cm, Height = {{ storage[0].height }} cm</div>
<input type="checkbox" id="editLayout" name="editLayout"><label for="editLayout">Edit Layout</label> 
<div class="storage">
    
    
    {% for i in range(0, inventory|length) %}
    <div class="item" id="{{ inventory[i].id}}" style="width:{{ lengthpercentage[i] }}%; height:{{ widthpercentage[i] }}%; top:{{ inventory[i].y }}%; left:{{ inventory[i].x }}%">{{ inventory[i].code }}
        <div class="details" id="D{{ inventory[i].id}}">{{ inventory[i].name }}
            <form action="/removeItem" method="post"><input type="text" style="display:none" name="id" value="{{ inventory[i].id }}">
                <input class="removeitem" type="submit" value="Delete"> </form>
            Box dimensions: Length = {{ inventory[i].boxlength }} cm, Width = {{ inventory[i].boxwidth }} cm, Height = {{ inventory[i].boxheight }} cm 
            <form action="/rotateitem" method="post"><input type="text" style="display:none" value="{{ inventory[i].id }}" name="id"> <input type="submit" name="rotate" value="Rotate"> 
            </form>
        </div>
    </div>
    {% endfor %}
    <!----
    <div class="dropzone" style="width:; height:"></div> 
    {}
    <div class="dropzone" style="width: 13%; height: auto"><div class="item" style="width: 13%; height: auto" draggable="true">EMPTY</div></div> -->
</div>

<script>
</script>
Submit new inventory
<form action="/" method="post">
    <input type="text" id="code" name="code" list="codes" autocomplete="off" placeholder="code">
        <datalist id="codes">
            {% for item in inventory %}
            <option>{{ item.code }} </option>
            {% endfor %}
        </datalist>
    <input type="text" id="name" name="name" list="names" autocomplete="off" placeholder="name">
        <datalist id="names">
            {% for item in inventory %}
            <option>{{ item.name }} </option>
            {% endfor %}
        </datalist>
    <input type="number" id="boxwidth" name="boxwidth" placeholder="width">
    <input type="number" id="boxlength" name="boxlength" placeholder="length">
    <input type="number" id="boxheight" name="boxheight" placeholder="height">    
    <input type="submit">
</form>

<button type ="submit" id="save">Save</button>


<div id="saved"></div>



{% endblock %}