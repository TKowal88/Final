{% extends "layout.html" %}

{% block main %}
Index page <br>
<a href="/stock">Inventory</a> <br>
Enter storage size:
<form action="/addStorage" method="POST" name="storageSize" id="storageSize">
    <input type="text" id="storageName" name="storageName" placeholder="Name">
    <input type="number" id="storageWidth" name="storageWidth" placeholder="Width">
    <input type="number" id="storageLength" name="storageLength" placeholder="Length">
    <input type="number" id="storageHeight" name="storageHeight" placeholder="Height">
    <input type="submit" id="storageSubmit">
</form>
<div> Storage name: {{ storage[0].name }} <br>Storage dimensions: Width = {{ storage[0].width }} cm, Length = {{ storage[0].length }} cm, Height = {{ storage[0].height }} cm</div>
<div> Select storage <form action="/selectstorage" method="post"><input list="storagename" name="storagename">
    <datalist name="storagename" id="storagename">
        {% for storage in storages %}
        <option value="{{ storage.name }}">
        </option>
        {% endfor %} 
    </datalist> <input type="submit"></form></div>
<input type="checkbox" id="editLayout" name="editLayout"><label for="editLayout">Edit Layout</label> 
<div class="storage">
    
    
    {% for i in range(0, stacks|length) %}
    <div class="item" id="{{ stacks[i].id}}" style="width:{{ lengthpercentage[i] }}%; height:{{ widthpercentage[i] }}%; top:{{ stacks[i].y }}%; left:{{ stacks[i].x }}%">{{ stacks[i].id }}
        <div class="details" id="D{{ stacks[i].id }}">{{ stacks[i].id }}
            <form action="/removestack" method="post"><input type="text" style="display:none" name="id" value="{{ stacks[i].id }}">
                <input class="removestack" type="submit" value="Delete Stack"> </form>
            Stack dimensions: Length = {{ stacks[i].stacklength }} cm, Width = {{ stacks[i].stackwidth }} cm, Height = {{ stacks[i].stackheight }} cm 
            <form action="/rotatestack" method="post"><input type="text" style="display:none" value="{{ stacks[i].id }}" name="id"> <input type="submit" name="rotatestack" value="Rotate Stack"> 
                
            </form>
            <div class="stackwrap">
                {% for item in stock|reverse %}
                {% if item.stack_id == stacks[i].id %}
                <div class="stackview">
                    {{ item.name }} {{ item.stock_id }}
                </div>
                {% endif %}
                {% endfor %}
            </div>
        </div>
    </div>
    {% endfor %}
    
</div>

<script>
</script>
Add new stack
<form action="/" method="post">
    
    
    <input type="number" id="stackwidth" name="stackwidth" placeholder="width">
    <input type="number" id="stacklength" name="stacklength" placeholder="length"> 
    <input type="submit">
</form>
Add new stock
<form action="/addstock" method="post">
    <input type="text" id="code" name="code" placeholder="Code">
    <input type="text" id="name" name="name" placeholder="Name">
    <input type="number" id="boxwidth" name="boxwidth" placeholder="Width">
    <input type="number" id="boxlength" name="boxlength" placeholder="Length"> 
    <input type="number" id="boxheight" name="boxheight" placeholder="Height">
    <input type="number" id="boxcount" name="boxcount" placeholder="Count">
    <input type="submit">
</form>

<button type ="submit" id="save">Save layout</button>


<div id="saved"></div>



{% endblock %}